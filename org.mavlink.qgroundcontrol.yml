app-id: org.mavlink.qgroundcontrol
runtime: org.kde.Platform
runtime-version: '5.15-22.08'
sdk: org.kde.Sdk
command: QGroundControl
rename-appdata-file: org.mavlink.qgroundcontrol.metainfo.xml

finish-args:
- --socket=wayland
- --socket=fallback-x11
- --socket=pulseaudio
- --device=dri
- --share=ipc
- --share=network

modules:
  - name: QGroundControl
    sources:
    - type: git
      url: https://github.com/mavlink/qgroundcontrol.git
      commit: d4db5ba9b98bec77667efda13015c9e513b40f0b # Apr 6 10:45:29 UTC 2023
    - type: patch
      path: patches/0001-add-release-tag-to-metainfo-file.patch
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
    - -D BUILD_SHARED_LIBS=OFF
    - -D OpenGL_GL_PREFERENCE=GLVND
    cleanup:
    - /include
    - /bin/dbf*
    - /bin/shp*
    - /lib/cmake
    - /share/shapelib
    - "*.a"
    - "*.cmake"
